\hypertarget{_game_8hpp_source}{}\doxysection{Game.\+hpp}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#include "{}World.hpp"{}}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include "{}Player.hpp"{}}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include "{}StateStack.hpp"{}}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{keyword}{class }\mbox{\hyperlink{class_game}{Game}} : \textcolor{keyword}{public} D3DApp}
\DoxyCodeLine{6 \{}
\DoxyCodeLine{7 \textcolor{keyword}{public}:}
\DoxyCodeLine{8     \mbox{\hyperlink{class_game}{Game}}(HINSTANCE hInstance);}
\DoxyCodeLine{9     \mbox{\hyperlink{class_game}{Game}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_game}{Game}}\& rhs) = \textcolor{keyword}{delete};}
\DoxyCodeLine{10     \mbox{\hyperlink{class_game}{Game}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{class_game}{Game}}\& rhs) = \textcolor{keyword}{delete};}
\DoxyCodeLine{11     \mbox{\hyperlink{class_game}{\string~Game}}();}
\DoxyCodeLine{12 }
\DoxyCodeLine{13     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} Initialize()\textcolor{keyword}{override};}
\DoxyCodeLine{14 \textcolor{keyword}{private}:}
\DoxyCodeLine{15     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnResize()\textcolor{keyword}{override};}
\DoxyCodeLine{16     \textcolor{comment}{//void ProcessInput();}}
\DoxyCodeLine{17     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} Update(\textcolor{keyword}{const} GameTimer\& gt)\textcolor{keyword}{override};}
\DoxyCodeLine{18     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} Draw(\textcolor{keyword}{const} GameTimer\& gt)\textcolor{keyword}{override};}
\DoxyCodeLine{19 }
\DoxyCodeLine{20     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnMouseDown(WPARAM btnState, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)\textcolor{keyword}{override};}
\DoxyCodeLine{21     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnMouseUp(WPARAM btnState, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)\textcolor{keyword}{override};}
\DoxyCodeLine{22     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnMouseMove(WPARAM btnState, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)\textcolor{keyword}{override};}
\DoxyCodeLine{23     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnKeyDown(WPARAM btnState)\textcolor{keyword}{override};}
\DoxyCodeLine{24 }
\DoxyCodeLine{25     \textcolor{comment}{//void OnKeyboardInput(const GameTimer\& gt);}}
\DoxyCodeLine{26     \textcolor{keywordtype}{void} UpdateCamera(\textcolor{keyword}{const} GameTimer\& gt);}
\DoxyCodeLine{27     \textcolor{keywordtype}{void} AnimateMaterials(\textcolor{keyword}{const} GameTimer\& gt);}
\DoxyCodeLine{28     \textcolor{keywordtype}{void} UpdateObjectCBs(\textcolor{keyword}{const} GameTimer\& gt);}
\DoxyCodeLine{29     \textcolor{keywordtype}{void} UpdateMaterialCBs(\textcolor{keyword}{const} GameTimer\& gt);}
\DoxyCodeLine{30     \textcolor{keywordtype}{void} UpdateMainPassCB(\textcolor{keyword}{const} GameTimer\& gt);}
\DoxyCodeLine{31     }
\DoxyCodeLine{32     \textcolor{keywordtype}{void} CreateTexture(std::string Name, std::wstring FileName);}
\DoxyCodeLine{33     \textcolor{keywordtype}{void} CreateMaterials(std::string Name, XMFLOAT4 DiffuseAlbedo, XMFLOAT3 FresnelR0, \textcolor{keywordtype}{float} Roughness);}
\DoxyCodeLine{34 }
\DoxyCodeLine{35     \textcolor{keywordtype}{void} RegisterStates();}
\DoxyCodeLine{36 }
\DoxyCodeLine{37     std::array<const CD3DX12\_STATIC\_SAMPLER\_DESC, 6> GetStaticSamplers();}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 \textcolor{keyword}{public}:}
\DoxyCodeLine{40 }
\DoxyCodeLine{41     std::vector<std::unique\_ptr<FrameResource>> mFrameResources;}
\DoxyCodeLine{42     \mbox{\hyperlink{struct_frame_resource}{FrameResource}}* mCurrFrameResource = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{43     \textcolor{keywordtype}{int} mCurrFrameResourceIndex = 0;}
\DoxyCodeLine{44     \textcolor{keywordtype}{int} mCurrentMaterialCBIndex = 0; }
\DoxyCodeLine{45     \textcolor{keywordtype}{int} mCurrentDiffuseSrvHeapIndex = 0; }
\DoxyCodeLine{46     UINT mCbvSrvDescriptorSize = 0;}
\DoxyCodeLine{47 }
\DoxyCodeLine{48     ComPtr<ID3D12RootSignature> mRootSignature = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{49 }
\DoxyCodeLine{50     ComPtr<ID3D12DescriptorHeap> mSrvDescriptorHeap = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{51 }
\DoxyCodeLine{52     std::unordered\_map<std::string, std::unique\_ptr<MeshGeometry>> mGeometries;}
\DoxyCodeLine{53     std::unordered\_map<std::string, std::unique\_ptr<Material>> mMaterials;}
\DoxyCodeLine{54 }
\DoxyCodeLine{55     std::unordered\_map<std::string, std::unique\_ptr<Texture>> mTextures;}
\DoxyCodeLine{56 }
\DoxyCodeLine{57     std::unordered\_map<std::string, ComPtr<ID3DBlob>> mShaders;}
\DoxyCodeLine{58 }
\DoxyCodeLine{59     std::vector<D3D12\_INPUT\_ELEMENT\_DESC> mInputLayout;}
\DoxyCodeLine{60 }
\DoxyCodeLine{61     ComPtr<ID3D12PipelineState> mOpaquePSO = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{62 }
\DoxyCodeLine{63     \textcolor{comment}{// List of all the render items.}}
\DoxyCodeLine{64     \textcolor{comment}{//std::vector<std::unique\_ptr<RenderItem>> mAllRitems;}}
\DoxyCodeLine{65 }
\DoxyCodeLine{66     \textcolor{comment}{// Render items divided by PSO.}}
\DoxyCodeLine{67     \textcolor{comment}{//std::vector<RenderItem*> mOpaqueRitems;}}
\DoxyCodeLine{68 }
\DoxyCodeLine{69     \mbox{\hyperlink{struct_pass_constants}{PassConstants}} mMainPassCB;}
\DoxyCodeLine{70 }
\DoxyCodeLine{71     \textcolor{comment}{//XMFLOAT3 mEyePos = \{ 0.0f, 0.0f, -\/10.0f \};}}
\DoxyCodeLine{72     \textcolor{comment}{//XMFLOAT4X4 mView = MathHelper::Identity4x4();}}
\DoxyCodeLine{73     \textcolor{comment}{//XMFLOAT4X4 mProj = MathHelper::Identity4x4();}}
\DoxyCodeLine{74 }
\DoxyCodeLine{75     \textcolor{comment}{//float mTheta = 1.3f * XM\_PI;}}
\DoxyCodeLine{76     \textcolor{comment}{//float mPhi = 0.4f * XM\_PI;}}
\DoxyCodeLine{77     \textcolor{comment}{//float mRadius = 2.5f;}}
\DoxyCodeLine{78 }
\DoxyCodeLine{79     POINT mLastMousePos;}
\DoxyCodeLine{80     Camera mCamera;}
\DoxyCodeLine{81     \textcolor{comment}{//World mWorld;}}
\DoxyCodeLine{82     \mbox{\hyperlink{class_player}{Player}} mPlayer;}
\DoxyCodeLine{83     \mbox{\hyperlink{class_state_stack}{StateStack}} mStateStack;}
\DoxyCodeLine{84     }
\DoxyCodeLine{85     \textcolor{keywordtype}{void} BuildFrameResources(\textcolor{keywordtype}{int} renderItemCount);}
\DoxyCodeLine{86     \textcolor{keywordtype}{void} ResetFrameResources();}
\DoxyCodeLine{87     \textcolor{keywordtype}{void} BuildPSOs();}
\DoxyCodeLine{88     \textcolor{keywordtype}{void} BuildMaterials();}
\DoxyCodeLine{89     \textcolor{keywordtype}{void} LoadTextures();}
\DoxyCodeLine{90     \textcolor{keywordtype}{void} BuildRootSignature();}
\DoxyCodeLine{91     \textcolor{keywordtype}{void} BuildDescriptorHeaps();}
\DoxyCodeLine{92     \textcolor{keywordtype}{void} BuildShadersAndInputLayout();}
\DoxyCodeLine{93     \textcolor{keywordtype}{void} BuildShapeGeometry();}
\DoxyCodeLine{94 \textcolor{keyword}{public}:}
\DoxyCodeLine{95     ID3D12GraphicsCommandList*  getCmdList() \{ \textcolor{keywordflow}{return} mCommandList.Get(); \}}
\DoxyCodeLine{96     \textcolor{comment}{//std::vector<std::unique\_ptr<RenderItem>>\& getRenderItems() \{ return mAllRitems; \}}}
\DoxyCodeLine{97     std::unordered\_map<std::string, std::unique\_ptr<Material>>\& getMaterials() \{ \textcolor{keywordflow}{return} mMaterials; \}}
\DoxyCodeLine{98     std::unordered\_map<std::string, std::unique\_ptr<MeshGeometry>>\& getGeometries() \{ \textcolor{keywordflow}{return} mGeometries; \}}
\DoxyCodeLine{99 \};}

\end{DoxyCode}
